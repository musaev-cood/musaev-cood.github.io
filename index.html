<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>GoyMarket</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="style.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Shantell+Sans:ital,wght@0,300..800;1,300..800&family=Yanone+Kaffeesatz:wght@300&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container" id="categories">
        <header>
            <h1>GoyMarket - Ваш магазин продуктов!</h1>
        </header>
        <div class="categories">
            <button class="category-element" onclick="scrollToTarget('Bread')">Для детей</button>
            <button class="category-element">Сладости</button>
            <button class="category-element">Чипсы, снеки и попкорн</button>
            <button class="category-element">Вода, напитки, соки</button>
            <button class="category-element">Чай, кофе, сахар</button>
            <button class="category-element">Овощи, фрукты, ягоды</button>
            <button class="category-element">Мясо, птица, рыба</button>
            <button class="category-element">Молоко, яйца, сыр</button>
            <button class="category-element">Хлеб, хлебцы, выпечка</button>
            <button class="category-element">Макароны, специи, крупы</button>
            <button class="category-element">Орехи, семечки, сухофрукты</button>
            <button class="category-element">Консервы, соленья</button>
            <button class="category-element">Соусы, майонез</button>
            <button class="category-element">Замороженные продукты</button>
            <button class="category-element">Бытовая химия</button>
            <button class="category-element">Зоотовары</button>
            <button class="category-element">Личная гигиена</button>
            <button class="category-element">Прочее</button>
        </div>
        <div class="inner">
            <div class="category-title" id="Bread" style="grid-column: 1 / span 3;">Напитки</div>
            <div class="product" onclick="rotateAnimation(this)">
            <img src="https://rskrf.ru/upload/iblock/1f5/us4v5eu27rxmy23hr145phxwznj5dwrt.jpg" alt="Product 3">
            <h3 class="product-title">Кола 2л</h3>
            <p class="product-price">32 ₽</p>
            <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
            <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
            <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://i3.stat01.com/2/3093/130922950/afacdb/koka-kola-0-3-l.jpg" alt="Product 3">
                <h3 class="product-title">Стеклянная кола</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
            <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
            <h3 class="product-title">Спрайт</h3>
            <p class="product-price">32 ₽</p>
            <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
            <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
            <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
            <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
            <h3 class="product-title">Спрайт</h3>
            <p class="product-price">32 ₽</p>
            <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
            <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
            <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
            <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
            <h3 class="product-title">Спрайт</h3>
            <p class="product-price">32 ₽</p>
            <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
            <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
            <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>
        </div>

        <div class="inner">
            <div class="category-title" style="grid-column: 1 / span 3;">Напитки</div>
            <div class="product" onclick="rotateAnimation(this)">
            <img src="https://rskrf.ru/upload/iblock/1f5/us4v5eu27rxmy23hr145phxwznj5dwrt.jpg" alt="Product 3">
            <h3 class="product-title">Кола 2л</h3>
            <p class="product-price">32 ₽</p>
            <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
            <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
            <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://i3.stat01.com/2/3093/130922950/afacdb/koka-kola-0-3-l.jpg" alt="Product 3">
                <h3 class="product-title">Стеклянная кола</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
            <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
            <h3 class="product-title">Спрайт</h3>
            <p class="product-price">32 ₽</p>
            <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
            <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
            <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
            <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
            <h3 class="product-title">Спрайт</h3>
            <p class="product-price">32 ₽</p>
            <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
            <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
            <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
            <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
            <h3 class="product-title">Спрайт</h3>
            <p class="product-price">32 ₽</p>
            <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
            <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
            <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>
        </div>

        <div class="inner">
            <div class="category-title" style="grid-column: 1 / span 3;">Напитки</div>
            <div class="product" onclick="rotateAnimation(this)">
            <img src="https://rskrf.ru/upload/iblock/1f5/us4v5eu27rxmy23hr145phxwznj5dwrt.jpg" alt="Product 3">
            <h3 class="product-title">Кола 2л</h3>
            <p class="product-price">32 ₽</p>
            <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
            <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
            <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://i3.stat01.com/2/3093/130922950/afacdb/koka-kola-0-3-l.jpg" alt="Product 3">
                <h3 class="product-title">Стеклянная кола</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
            <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
            <h3 class="product-title">Спрайт</h3>
            <p class="product-price">32 ₽</p>
            <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
            <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
            <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
            <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
            <h3 class="product-title">Спрайт</h3>
            <p class="product-price">32 ₽</p>
            <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
            <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
            <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
            <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
            <h3 class="product-title">Спрайт</h3>
            <p class="product-price">32 ₽</p>
            <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
            <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
            <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">Спрайт</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>

            <div class="product" onclick="rotateAnimation(this)">
                <img src="https://www.otlichnye-tseny.ru/upload/iblock/f62/iqdhjkrb30c15qpwlrply3gh6jv6f0ey.jpg" alt="Product 3">
                <h3 class="product-title">222</h3>
                <p class="product-price">32 ₽</p>
                <button class="add-to-cart-button" onclick=AddToCartButton(this)>ДОБАВИТЬ</button>
                <button class="delete-to-cart-button" style="display:none;" onclick=deleteFromCartButton(this)>-</button>
                <div class="quantity" style="display:none;">0</div>
            </div>
        </div>

        <footer>
            <div id="scrollToCategoriesButton" onclick="scrollToTarget('categories')"></div>
            <p>&copy; 2024 GoyMarket. V1.2. Все права защищены.</p>
        </footer>
        <div class="empty-space"></div>
    </div>

<script>
    let WebApp = window.Telegram.WebApp;

    function AddToCartButton(element) {
        WebApp.HapticFeedback.impactOccurred("rigid")
        const deleteButton = element.nextElementSibling;
        const quantityElement = element.nextElementSibling.nextElementSibling;

        deleteButton.style.display = 'inline-block';
        quantityElement.style.display = 'inline-block';

        let currentQuantity = parseInt(quantityElement.textContent, 10) || 0;

        if (currentQuantity === 0){
            quantityElement.classList.add('fade-in');
            setTimeout(() => {
                quantityElement.classList.remove('fade-in');
            }, 200);

            deleteButton.style.transition = 'padding 0.2s';
            element.textContent = "+";
            element.style.fontWeight = 800;
            element.style.padding = '.3em 3em calc(.3em + 3px)';

            setTimeout(() => {
                deleteButton.style.padding = '.3em 1.25em calc(.3em + 3px)';
                deleteButton.style.opacity = 1;
                element.style.padding = '.3em 1em calc(.3em + 3px)';
            }, 100);
        }else{
            quantityElement.classList.add('bounce-in');
            setTimeout(() => {
                quantityElement.classList.remove('bounce-in');
            }, 100);
        }

        if (currentQuantity<9){
            quantityElement.textContent = currentQuantity + 1;
        }
    }
    function deleteFromCartButton(element) {
        WebApp.HapticFeedback.impactOccurred("rigid")

        const quantityElement = element.nextElementSibling;
        const addButton = element.previousElementSibling;

        let currentQuantity = parseInt(quantityElement.textContent, 10) || 0;
        quantityElement.textContent = Math.max(0, currentQuantity - 1).toString();

        if (currentQuantity <= 1) {
            quantityElement.classList.add('fade-out');
            setTimeout(() => {
                    quantityElement.classList.remove('fade-out');
                    quantityElement.style.display = 'none';
            }, 100);

            addButton.style.transition = 'padding 0.15s';

            element.style.transition = 'padding 0.15s';
            element.style.transition = 'opacity 0.2s';

            element.style.display = 'none';
            element.style.opacity = 0;
            element.style.padding = '.3em 0.1em calc(.3em + 3px)';

            addButton.style.fontWeight = 800;
            addButton.style.padding = '.3em 3em calc(.3em + 3px)';
            setTimeout(() => {
                addButton.style.padding = '.3em 0.7em calc(.3em + 3px)';
            }, 50);
            setTimeout(() => {
                addButton.textContent = "ДОБАВИТЬ";
            }, 100);

        }else{
            quantityElement.classList.add('bounce-out');
            setTimeout(() => {
                quantityElement.classList.remove('bounce-out');
            }, 100);
        }
    }
    function rotateAnimation(element) {
        let clickedElement = event.target;

        if (clickedElement.tagName.toLowerCase() === 'img') {
            WebApp.HapticFeedback.impactOccurred("rigid")
            let img = element.querySelector('img');
            if (!img.classList.contains('rotate')) {
                img.classList.add('rotate');
                setTimeout(function () {
                    img.classList.remove('rotate');
                }, 500);
            }
        }
    }

    window.onscroll = function() {
        const scrollToCategoriesButton = document.getElementById('scrollToCategoriesButton');
        const shouldShowButton = document.body.scrollTop > 600 || document.documentElement.scrollTop > 600;

        if (shouldShowButton !== scrollToCategoriesButton.classList.contains('visible')) {
            scrollToCategoriesButton.classList.toggle('visible');
        }
    };

    function scrollToTarget(targetId) {
        const targetElement = document.getElementById(targetId);
        WebApp.HapticFeedback.impactOccurred("rigid")
        if (targetElement) {
            const targetPosition = targetElement.offsetTop;
            const currentPosition = window.scrollY;
            const distance = targetPosition - currentPosition;

            const duration = 1000;
            let start = null;

            function step(timestamp) {
                if (!start) start = timestamp;
                const progress = timestamp - start;

                window.scrollTo(0, easeInOutQuad(progress, currentPosition, distance, duration));

                if (progress < duration) {
                    requestAnimationFrame(step);
                }
            }

            function easeInOutQuad(t, b, c, d) {
                t /= d / 2;
                if (t < 1) return c / 2 * t * t + b;
                t--;
                return -c / 2 * (t * (t - 2) - 1) + b;
            }

            requestAnimationFrame(step);
        }
    }
</script>
</body>
</html>
